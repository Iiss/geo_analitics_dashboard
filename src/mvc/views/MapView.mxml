<?xml version="1.0" encoding="utf-8"?>
<s:Group xmlns:fx="http://ns.adobe.com/mxml/2009" 
               xmlns:s="library://ns.adobe.com/flex/spark" 
               xmlns:mx="library://ns.adobe.com/flex/halo">
	<fx:Declarations>
		<!-- Place non-visual elements (e.g., services, value objects) here -->
	</fx:Declarations>
	<fx:Script>
		<![CDATA[
		import flash.display.Graphics;
		import flash.filters.BlurFilter;
		import flash.filters.DropShadowFilter;
		import flash.filters.GlowFilter;
		import mvc.views.components.CellLabel;
		
		public function drawGrid(col:int=32,rows:int=18):void
		{
			var col_w:Number = width / col;
			var row_h:Number = height / rows;
			var g:Graphics = mapOverlay.graphics;
			
			g.clear();
			g.lineStyle(0.25, 0xffffff,.3);
			
			for (var x:int = 1; x <= col; x++)
			{
				g.moveTo(x*col_w, 0);
				g.lineTo(x * col_w, height);
				
				var l:CellLabel = new CellLabel()
				
				l.width = col_w;
				l.text = (x - 1).toString()
				l.x = (x-1) * col_w;
				l.y = 2;
				
				mapOverlay.addElement(l);
			}
			
			for (var y:int = 1; y <= rows; y++)
			{
				g.moveTo(0,y*row_h);
				g.lineTo(width, y * row_h);
				
				l = new CellLabel();
				
				l.text = (y - 1).toString()
				l.height = 6;
				l.x = 2;
				l.y = (y - .5) * row_h - .5 * l.height;
				
				mapOverlay.addElement(l);
			}
		}
		]]>
	</fx:Script>
	<s:Image width="100%" height="100%" scaleMode="zoom"
		source="data/map.jpg"/>
	<s:List id="tileList" width="100%" height="100%"
	borderVisible="false"
				contentBackgroundAlpha="0">
		<s:layout>
			<s:TileLayout
				requestedColumnCount="32" columnWidth="25" rowHeight="25"
				verticalGap="0" horizontalGap="0" requestedRowCount="18"/>
		</s:layout>
	</s:List>
	<s:Group id="mapOverlay" width="100%" height="100%" />
	<s:Panel visible="false">
		<s:layout>
			<s:VerticalLayout/>
		</s:layout>
		<s:List id="layersList"/>
		<s:Label />
		
	</s:Panel>
</s:Group>